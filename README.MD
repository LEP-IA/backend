# Backend - Gerenciador de Projetos √Ågeis com IA

## Vis√£o Geral

Este backend √© parte de uma aplica√ß√£o para gerenciamento de projetos baseada em metodologias √°geis (Scrum, Kanban, etc.), com funcionalidades de intelig√™ncia artificial para auxiliar na tomada de decis√µes, automa√ß√£o de tarefas e an√°lise de desempenho. Ele fornece uma API RESTful para integra√ß√£o com o frontend e outros servi√ßos.

## Principais Funcionalidades

- **Gest√£o de Projetos:** Cria√ß√£o, edi√ß√£o e exclus√£o de projetos.
- **Gest√£o de Sprints:** Planejamento, acompanhamento e encerramento de sprints.
- **Gest√£o de Tarefas:** CRUD de tarefas, atribui√ß√£o de respons√°veis, defini√ß√£o de prioridades e status.
- **Gest√£o de Times:** Cadastro de membros, pap√©is e permiss√µes.
- **Automa√ß√£o com IA:** Sugest√£o de tarefas, previs√£o de prazos, an√°lise de produtividade e detec√ß√£o de gargalos.
- **Relat√≥rios:** Estudamos a possibilidade
- **Autentica√ß√£o e Autoriza√ß√£o:** Controle de acesso baseado em pap√©is 
- **Notifica√ß√µes:** Alertas autom√°ticos sobre prazos, mudan√ßas e recomenda√ß√µes da IA.

## Tecnologias Utilizadas

- **Linguagem:** Python
- **Framework:** Django / Flask / FastAPI (escolha conforme seu projeto)
- **Banco de Dados:** PostgreSQL 
- **IA:** Integra√ß√£o com modelos de machine learning
- **Autentica√ß√£o:** JWT 
- **Documenta√ß√£o:** Swagger 

# üìã Especifica√ß√£o da API

Este documento define os contratos de integra√ß√£o entre o Frontend e o Backend.

## Autentica√ß√£o (login)
    
POST `/login`

Rota para autenticar o usu√°rio e receber o token de acesso.

**Body (JSON):**

```json
{
  "email": "davi@gmail.com",
  "password": "senha_exemplo_123"
}
```

**Resposta de Sucesso (200 OK):**

```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": "507f1f77bcf86cd799439011",
    "name": "Antonio Davi",
    "email": "davi@gmail.com",
    "avatarUrl": "https://api.dicebear.com/7.x/avataaars/svg?seed=Antonio"
  }
}
```

**Poss√≠veis Erros:**

- `401 Unauthorized`: E-mail ou senha incorretos.
- `400 Bad Request`: Formato de e-mail inv√°lido ou campos vazios.

    
## Cadastro de Usu√°rio (signup)
    
POST `/signup`

Este endpoint √© respons√°vel por criar um novo usu√°rio no sistema.

**Request Body (JSON):**

```json
{
  "name": "Antonio Davi",
  "email": "davi@gmail.com",
  "password": "senha_exemplo_123",
  "termsAccepted": true
}
```

**Resposta de Sucesso (201):**

```json
{ "message": "Usu√°rio criado com sucesso" }
```

- **Valida√ß√£o de E-mail:** O campo `email` deve ser √∫nico. Se j√° existir, retornar `409 Conflict`.
- **Termos:** O campo `termsAccepted` √© obrigat√≥rio e deve ser `true`.
- **Avatar:** Como o cadastro inicial n√£o pede foto, o backend deve salvar o `avatarUrl` como `null` ou atribuir um avatar padr√£o (ex: DiceBear).
    
## LOGOUT
    
POST `/logout`

Request Body:

```json
{}
```

Exemplo de Resposta (200 OK):

```json
{
  "message": "Logout realizado com sucesso."
}
```
    
## Cria√ß√£o de Tarefa
    
POST `/tasks` (Cria√ß√£o)

**Request Body:**

```json
{
  "title": "Finalizar Telas de Login",
  "description": "Criar componentes React para Login e Cadastro",
  "status": "BACKLOG",
  "tag": "#FRONTEND",
  "startDate": "2026-01-23T10:00:00Z",
  "endDate": "2026-01-25T18:00:00Z",
  "responsibleId": "507f1f77bcf86cd799439011",
  "dependencyId": "65af8e12d3b4c56e89012345"
}
```

- **responsibleId:** Obrigat√≥rio. ID do usu√°rio que cuidar√° da tarefa.
- **dependencyId:** Opcional. ID de outra tarefa que deve ser feita antes.

Resposta de Sucesso: `201 Created`

```json
{
  "id": "65af8e12d3b4c56e89012345", 
  "title": "Finalizar Telas de Login",
  "description": "Criar componentes React para Login e Cadastro",
  "status": "BACKLOG",
  "tag": "#FRONTEND",
  "startDate": "2026-01-23T10:00:00Z",
  "endDate": "2026-01-25T18:00:00Z",
  "responsible": {
    "id": "507f1f77bcf86cd799439011",
    "name": "Antonio Davi",
    "avatarUrl": "https://github.com/davisantos.png"
  },
  "dependency": {
    "id": "65af8e12d3b4c56e89012345",
    "title": "Configurar Reposit√≥rio"
  }
}
```
    
## Edi√ß√£o de Tarefa
    
Este endpoint substitui os dados de uma tarefa existente pelos novos dados enviados.

**Endpoint:** `PUT /tasks/:id`

**Exemplo:** `PUT /tasks/65af8e12d3b4c56e89012345`

**Request Body (JSON)**

Exemplo de Mudan√ßa no campo ‚Äústatus‚Äù:

```json
{
  "title": "Finalizar Telas de Login",
  "description": "Criar componentes React para Login e Cadastro",
  "status": "DOING", 
  "tag": "#FRONTEND",
  "startDate": "2023-11-09T00:00:00Z",
  "endDate": "2023-11-10T23:59:59Z",
  "responsibleId": "507f1f77bcf86cd799439011",
  "dependencyId": "65af8e12d3b4c56e89012345"
}
```

**Resposta de Sucesso: `200 OK`**
O Backend retorna o objeto atualizado e com os relacionamentos populados (nome do respons√°vel, t√≠tulo da depend√™ncia, etc).

Response Body:

```json
{
  "id": "65af8e12d3b4c56e89012345",
  "title": "Finalizar Telas de Login",
  "description": "Criar componentes React para Login e Cadastro",
  "status": "DOING",
  "tag": "#FRONTEND",
  "startDate": "2023-11-09T00:00:00Z",
  "endDate": "2023-11-10T23:59:59Z",
  "responsible": {
    "id": "507f1f77bcf86cd799439011",
    "name": "Antonio Davi",
    "avatarUrl": "https://github.com/davisantos.png"
  },
  "dependency": {
    "id": "65af8e12d3b4c56e89012345",
    "title": "Setup do Banco de Dados"
  }
}
```
    
## Exclus√£o da tarefa
    
Este endpoint remove permanentemente uma tarefa do sistema.

**Endpoint:** `DELETE /tasks/:id`

**Exemplo:** `DELETE /tasks/65af8e12d3b4c56e89012345`

**Cabe√ßalhos (Headers)**
Authorization: `Bearer <token>` (Obrigat√≥rio)

Resposta de Sucesso: `200 OK`

Response Body:

```json
{ "message": "Tarefa exclu√≠da com sucesso" }
```
    
## Listagem de Tarefas
    
GET `/tasks`

**Regras de Status:** O campo `status` ser√° sempre um Enum em caixa alta:

- **BACKLOG:** Tarefa aguardando in√≠cio.
- **DOING:** Tarefa em execu√ß√£o.
- **DONE:** Tarefa finalizada.

**Relacionamentos:**

- **responsible:** Deve vir populado com `id`, `name` e `avatarUrl`.
- **dependency:** Deve vir populado com `id` e `title`.
- **Se uma tarefa n√£o houver depend√™ncia, retornar null.**

Exemplo de Resposta (200 OK):

```json
{
  "tasks": [
    {
      "id": "65af9abc123456789",
      "title": "Configurar Banco de Dados",
      "description": "Criar schemas e realizar a primeira migra√ß√£o do sistema.",
      "status": "DOING", 
      "tag": "#BACKEND",
      "startDate": "2026-01-23T10:00:00Z",
      "endDate": "2026-01-25T18:00:00Z",
      "responsible": {
        "id": "507f1f77bcf86cd799439011",
        "name": "Antonio Davi",
        "avatarUrl": "https://github.com/davisantos.png"
      },
      "dependency": {
        "id": "65af8e12d3b4c56e89012345",
        "title": "Configurar reposit√≥rio"
      }
    },
    {
      "id": "65af8e12d3b4c56e89012345",
      "title": "Configurar reposit√≥rio",
      "description": "Configurar GitHub e permiss√µes da equipe.",
      "status": "DONE", 
      "tag": "#DEV",
      "startDate": "2026-01-22T08:00:00Z",
      "endDate": "2026-01-22T12:00:00Z",
      "responsible": {
        "id": "507f1f77bcf86cd799439011",
        "name": "Pedro Henrique",
        "avatarUrl": "https://api.dicebear.com/7.x/avataaars/svg?seed=Pedro"
      },
      "dependency": null
    }
  ]
}
```
    
## Listagem de Usu√°rios
    
GET `/users`

**Regras de Campos:**

- **avatarUrl:** O campo √© obrigat√≥rio no JSON. Se o usu√°rio n√£o tiver uma imagem definida, o valor retornado deve ser `null`.

**Exemplo de Resposta `(200 OK)`:**

```json
[
  {
    "id": "507f1f77bcf86cd799439011",
    "name": "Antonio Davi",
    "email": "davi@gmail.com",
    "avatarUrl": "https://github.com/davisantos.png"
  },
  {
    "id": "65af8e12d3b4c56e89012345",
    "name": "Pedro Henrique",
    "email": "pedro.henrique@gmail.com",
    "avatarUrl": "https://api.dicebear.com/7.x/avataaars/svg?seed=Pedro"
  },
  {
    "id": "75bf9f23e4c5d67f90123456",
    "name": "Jo√£o Silva",
    "email": "joao.silva@email.com",
    "avatarUrl": null
  }
]
```

